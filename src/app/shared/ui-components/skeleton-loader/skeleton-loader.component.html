@if (showContent) {
  <div [class]="animationClass">
    <ng-content></ng-content>
  </div>
} @else {
  <div [class]="animationClass">
    @switch (type) {
      <!-- Basic Text Skeleton -->
      @case ('text') {
        @for (i of generateArray(count); track i) {
          <div 
            class="bg-gray-200 mb-2"
            [ngClass]="roundedClass"
            [ngStyle]="{
              'width': width || (i % 3 === 0 ? '100%' : i % 3 === 1 ? '75%' : '50%'),
              'height': height || '1rem'
            }"
          ></div>
        }
      }
      
      <!-- Circle Skeleton -->
      @case ('circle') {
        @for (i of generateArray(count); track i) {
          <div 
            class="rounded-full bg-gray-200"
            [ngStyle]="{
              'width': width || '3rem',
              'height': height || '3rem'
            }"
          ></div>
        }
      }
      
      <!-- Rectangle/Image Skeleton -->
      @case ('rectangle') {
        @for (i of generateArray(count); track i) {
          <div 
            class="bg-gray-200 mb-2"
            [ngClass]="[roundedClass, aspectRatioClass || '']"
            [ngStyle]="{
              'width': width || '100%',
              'height': aspectRatio ? 'auto' : (height || '8rem')
            }"
          ></div>
        }
      }
      
      <!-- Avatar Skeleton -->
      @case ('avatar') {
        @for (i of generateArray(count); track i) {
          <div class="flex items-center space-x-3 mb-4">
            <div class="rounded-full bg-gray-200" style="width: 2.5rem; height: 2.5rem;"></div>
            <div class="space-y-2">
              <div class="h-4 bg-gray-200 rounded" style="width: 8rem;"></div>
              <div class="h-3 bg-gray-200 rounded" style="width: 6rem;"></div>
            </div>
          </div>
        }
      }
      
      <!-- Card Skeleton -->
      @case ('card') {
        @for (i of generateArray(count); track i) {
          <div class="border border-gray-200 rounded-lg overflow-hidden mb-4">
            @if (cardHasImage) {
              <div class="bg-gray-200" style="height: 12rem;"></div>
            }
            
            <div class="p-4 space-y-3">
              <div class="h-5 bg-gray-200 rounded w-3/4"></div>
              
              @for (j of generateArray(cardLines); track j) {
                <div class="h-4 bg-gray-200 rounded" [style.width]="(j % 2 === 0 ? '100%' : '85%')"></div>
              }
              
              <div class="flex justify-between pt-2">
                <div class="h-8 bg-gray-200 rounded w-1/4"></div>
                <div class="h-8 bg-gray-200 rounded w-1/4"></div>
              </div>
            </div>
          </div>
        }
      }
      
      <!-- Table Skeleton -->
      @case ('table') {
        <div class="overflow-hidden border border-gray-200 rounded-lg mb-4">
          <!-- Table Header -->
          <div class="bg-gray-100 border-b border-gray-200 px-4 py-3">
            <div class="h-5 bg-gray-200 rounded w-1/3"></div>
          </div>
          
          <!-- Table Content -->
          <div class="divide-y divide-gray-200">
            @for (i of generateArray(tableRows); track i) {
              <div class="px-4 py-3 flex items-center space-x-4">
                @for (j of generateArray(tableCols); track j) {
                  <div 
                    class="h-4 bg-gray-200 rounded"
                    [style.width]="(j === 0 ? '20%' : j === tableCols - 1 ? '10%' : (70 / (tableCols - 2)) + '%')"
                  ></div>
                }
              </div>
            }
          </div>
        </div>
      }
      
      <!-- List Skeleton -->
      @case ('list') {
        <div class="divide-y divide-gray-200 border border-gray-200 rounded-lg overflow-hidden">
          @for (i of generateArray(listItems); track i) {
            <div class="p-4 flex items-center space-x-3">
              @if (listHasImage) {
                <div class="flex-shrink-0 w-12 h-12 bg-gray-200 rounded"></div>
              }
              
              <div class="flex-1 space-y-2">
                <div class="h-4 bg-gray-200 rounded w-3/4"></div>
                <div class="h-3 bg-gray-200 rounded w-1/2"></div>
              </div>
              
              <div class="flex-shrink-0 w-8 h-8 bg-gray-200 rounded"></div>
            </div>
          }
        </div>
      }
      
      <!-- Image Skeleton -->
      @case ('image') {
        @for (i of generateArray(count); track i) {
          <div 
            class="bg-gray-200"
            [ngClass]="[roundedClass, aspectRatioClass || '']"
            [ngStyle]="{
              'width': width || '100%',
              'height': aspectRatio ? 'auto' : (height || '12rem')
            }"
          ></div>
        }
      }
      
      <!-- Default Fallback -->
      @default {
        <div 
          class="bg-gray-200"
          [ngClass]="roundedClass"
          [ngStyle]="{
            'width': width || '100%',
            'height': height || '1rem'
          }"
        ></div>
      }
    }
  </div>
}
